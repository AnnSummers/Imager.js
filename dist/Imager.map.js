{"version":3,"sources":["./Imager.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","imager","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"_interopRequireWildcard","obj","__esModule","newObj","key","Object","prototype","hasOwnProperty","_classCallCheck","instance","Constructor","TypeError","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","defineProperty","protoProps","staticProps","value","_utils","_transforms","transforms","doc","document","defaultWidths","Imager","elements","_this","opts","arguments","undefined","selector","viewportHeight","documentElement","clientHeight","className","gif","createElement","src","alt","lazyloadOffset","scrollDelay","onResize","lazyload","scrolled","availablePixelRatios","availableWidths","onImagesReplaced","noop","widthsMap","refreshPixelRatio","widthInterpolator","returnFn","removeAttribute","createWidthsMap","devicePixelRatio","keys","sort","b","divs","add","ready","onReady","setTimeout","init","_this2","initialized","filterFn","trueFn","registerScrollEvent","scrollCheck","element","isPlaceholder","checkImagesNeedReplacing","registerResizeEvent","fn","elementsOrSelector","querySelectorAll","additional","map","changeDivsToEmptyImages","concat","_this3","offscreenImageCount","forEach","isThisElementOnScreen","push","clearInterval","interval","match","RegExp","elementClassName","getAttribute","elementWidth","cloneNode","width","setAttribute","parentNode","replaceChild","_this4","createGif","elementOffsetTop","offset","getPageOffset","offsetParent","offsetTop","images","_this5","isResizing","image","replaceImagesBasedOnScreenDimensions","computedWidth","naturalWidth","getNaturalWidth","determineAppropriateResolution","changeImageSrcToUseNewImageDimensions","getClosestValue","clientWidth","getPixelRatio","selectedWidth","replace","pixelRatio","_this6","addEventListener","debounce","_this7","setInterval","context","widths","interpolator","baseValue","candidates","parseFloat","testCase","pageYOffset","scrollTop","Image","imageCopy","getPageOffsetGenerator","./src/transforms.js","./src/utils.js",2,3,"wait","timeout","args","later","apply","clearTimeout"],"mappings":"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","file":"./Imager.min.js"}